<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <script src="https://kit.fontawesome.com/fe92d18f9e.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Dongle&family=Jua&family=Poor+Story&display=swap"
          rel="stylesheet">


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <meta charset="UTF-8">
    <!-- CSS 링크 -->
    <link href="../static/css/bannerstyle.css" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Dongle&family=Jua&family=Poor+Story&display=swap"
          rel="stylesheet">
    <!-- JS 링크 -->
    <script src="../static/js/login_out.js"></script>
    <link href="../static/css/index.css" rel="stylesheet" type="text/css"/>

    <title>Event Cafe Cloude | EC2</title>

</head>
<style type="text/css">
    * {
        font-family: 'Do Hyeon', sans-serif;
    }

    .wrap {
        margin: auto;
        padding: 80px;
        width: 1100px;
    }

    .card-columns {
        display: flex;
        float : left;
        margin: 0px;
        padding: 10px;
    }

    .card-columns > card {
        border: 2px solid grey;
        border-radius: 5px;
        width: 21%;
        margin: auto auto auto auto;
    }

    .card > btn-style {
        background-color: #EAD0F2;
        float: right;
    }


</style>
<script>
        $(document).ready(function () {
            {#bsCustomFileInput.init()#}
            listing()
        })

        function listing() {
            $.ajax({
                type: "GET",
                url: "/main",
                data: {},
                success: function (response) {
                    let cafes = response['cafes']
                    for (let i = 0; i < cafes.length; i++) {
                        let cafe_image = cafes[i]['cafe_image']
                        let cafe_name = cafes[i]['cafe_name']
                        let address = cafes[i]['address']

                        let temp_html = `<div class="card" style="width: 18rem; border-radius: 10px;">
                                            <img class="card-img-top" src="../static/profile_pics/ec2_logo.png" alt="Card image cap">
                                            <div class="card-body">
                                                <h3 class="card-title">${cafe_name}</h3>
                                                <p class="card-text">${address}</p>
                                                <div class="btn-style">
                                                    <button type="button" class="btn btn-outline-secondary" style="float: right;">
                                                    <a href="#" style="color: dimgrey">둘러보기</a></button>
                                                </div>
                                          </div>`
                        $('#cards-box').append(temp_html)
                    }
                }
            })
        }
</script>

</head>

<body>

<html>
<section class="ec2-banner">
    {% if msg %}
        <div class="welcome-message">
            guest님 환영합니다 &nbsp;&nbsp;&nbsp;
            <button class="banner-button" onclick="location.href='/auth/login'">로그인</button>
        </div>
    {% else %}
        <div class="welcome-message">
            <a href="/user/profile">{{ user["user_nickname"] }}님</a> 환영합니다 &nbsp;&nbsp;
            <button class="banner-button" onclick=logout()>로그아웃</button>
        </div>
    {% endif %}
    <div class="banner-logo">
        <img src="../static/ec2_logo.png" onclick="location.href='/'">
    </div>
</section>

<div id="menu" class="menu_bar">
    <ul>
        <li><a href="#">CAFE</a>
            <ul class="ul-bars">
                <li><a href="#">K-POP</a></li>
                <li><a href="#">Influencer</a></li>
                <li><a href="#">Animation</a></li>
                <li><a href="#">Webtoon</a></li>
                <li><a href="#">Novel</a></li>
            </ul>
        </li>
        <li><a href="#">COMMUNITY</a>
            <ul class="ul-bars">
                <li><a href="#">SUB_MENU</a></li>
            </ul>
        </li>
        <li><a href="#">공지사항</a>
        </li>
    </ul>
</div>

<div class="wrap">
    <div class="card-columns" id="cards-box">
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="..." alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">카페이름</h5>
                <p class="card-text">카페 동네</p>
                <div class="btn-style">
                    <button type="button" class="btn btn-outline-secondary">
                    <a href="#" style="color: dimgrey">둘러보기</a></button>
                </div>

          </div>
        </div>
    </div>
    <div class="card-columns">
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="..." alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">카페이름</h5>
                <p class="card-text">카페 동네</p>
                <button type="button" class="btn btn-outline-secondary">
                    <a href="#">둘러보기</a></button>
            </div>
        </div>
    </div>
    <div class="card-columns">
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="..." alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">카페이름</h5>
                <p class="card-text">카페 동네</p>
                <button type="button" class="btn btn-outline-secondary">
                    <a href="#">둘러보기</a></button>
            </div>
        </div>
    </div>
    <div class="card-columns">
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="..." alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">카페이름</h5>
                <p class="card-text">카페 동네</p>
                <button type="button" class="btn btn-outline-secondary">
                    <a href="#">둘러보기</a></button>
            </div>
        </div>
    </div>
    <div class="card-columns">
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="..." alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">카페이름</h5>
                <p class="card-text">카페 동네</p>
                <button type="button" class="btn btn-outline-secondary">
                    <a href="#">둘러보기</a></button>
            </div>
        </div>
    </div>
    <div class="card-columns">
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="..." alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">카페이름</h5>
                <p class="card-text">카페 동네</p>
                <button type="button" class="btn btn-outline-secondary">
                    <a href="#">둘러보기</a></button>
            </div>
        </div>
    </div>
    <div class="card-columns">
        <div class="card" style="width: 18rem;">
            <img class="card-img-top" src="..." alt="Card image cap">
            <div class="card-body">
                <h5 class="card-title">카페이름</h5>
                <p class="card-text">카페 동네</p>
                <button type="button" class="btn btn-outline-secondary">
                    <a href="#">둘러보기</a></button>
            </div>
        </div>
    </div>
</div>
</body>

</html>
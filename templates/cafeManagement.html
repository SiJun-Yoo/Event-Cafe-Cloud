<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <script src="https://kit.fontawesome.com/fe92d18f9e.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
          integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Dongle&family=Jua&family=Poor+Story&display=swap"
          rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous"></script>
    <script type="text/javascript"
            src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
    <meta charset="UTF-8">
    <!-- CSS 링크 -->
    <link href="../../static/css/bannerstyle.css" rel="stylesheet" type="text/css"/>
    <link href="../../static/css/loginstyle.css" rel="stylesheet" type="text/css"/>
    <link href="../../static/css/profilestyle.css" rel="stylesheet" type="text/css"/>
    <link href="../../static/css/calendar.css" rel="stylesheet" type="text/css"/>

    <!-- JS 링크 -->
    <script src="../../static/js/login_out.js"></script>
    <script src="../../static/js/calendar.js"></script>

    <title>Event Cafe Cloude | EC2</title>

    <style>
        a {
            color: #000000;
            text-decoration: none;
        }

        .scriptCalendar {
            text-align: center;
            margin: auto;
        }

        .scriptCalendar > thead > tr > td {
            width: 50px;
            height: 50px;
        }

        .scriptCalendar > thead > tr:first-child > td {
            font-weight: bold;
        }

        .scriptCalendar > thead > tr:last-child > td {
            background-color: #F5C0BE;
        }

        .scriptCalendar > tbody > tr > td {
            width: 50px;
            height: 50px;
        }
    </style>

    <script>
        function updProfile() {
            let user_nickname = $('#input-nickname').val()
            let user_info = $('#input-userinfo').val()
            let user_img = $('#file')[0].files[0]

            console.log(user_nickname, user_info, user_img)

            let form_data = new FormData()

            form_data.append("user_nickname_give", user_nickname)
            form_data.append("user_userinfo_give", user_info)
            form_data.append("user_profile_give", user_img)

            console.log(form_data)

            $.ajax({
                type: "POST",
                url: "/user/api/update",
                data: form_data,
                cache: false,
                contentType: false,
                processData: false,
                success: function (response) {
                    alert("수정 완료!")
                    window.location.replace("/user/profile")
                }
            });
        }
    </script>

</head>
<body>
<section class="ec2-banner">
    {% if msg %}
        <div class="welcome-message">
            guest님 환영합니다 &nbsp;&nbsp;&nbsp;
            <button class="banner-button" onclick="location.href='/auth/login'">로그인</button>
        </div>
    {% else %}
        <div class="welcome-message">
            <a href="/userProfile">{{ user["user_nickname"] }}님</a> 환영합니다 &nbsp;&nbsp;
            <button class="banner-button" onclick=logout()>로그아웃</button>
        </div>
    {% endif %}
    <div class="banner-logo">
        <img src="../../static/ec2_logo.png" onclick="location.href='/'">
    </div>
</section>
<div class="profile-text"><i class="fa-solid fa-calendar-check"></i>&nbsp Reservation</div>
<div class="profileBox">
    <table class="scriptCalendar">
        <thead>
        <tr>
            <td onClick="prevCalendar();" style="cursor:pointer;"><i class="fa-solid fa-circle-chevron-left"></i></td>
            <td colspan="5">
                <span id="calYear">YYYY</span>년
                <span id="calMonth">MM</span>월
            </td>
            <td onClick="nextCalendar();" style="cursor:pointer;"><i class="fa-solid fa-circle-chevron-right"></i></td>
        </tr>
        <tr>
            <td>일</td>
            <td>월</td>
            <td>화</td>
            <td>수</td>
            <td>목</td>
            <td>금</td>
            <td>토</td>
        </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>
<div class="profile-text"><i class="fa-solid fa-cloud"></i>&nbsp Reviews</div>
<div class="profileBox">
</div>
<div class="profile-text"><i class="fa-solid fa-mug-saucer"></i>&nbsp etc</div>
<div class="profileBox"></div>
</body>
</html>